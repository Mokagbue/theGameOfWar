<!DOCTYPE html>
<html>
  <head>
    <title>The Game of War</title>
    <meta charset="UTF-8">
<link rel="stylesheet" hred="node_modules/bootstrap/dist/css/bootsrap.css">
    <script>
      let suit = Array.from(Array(13)).map((element, index) => index + 1);
      let deck = suit.concat(suit, suit, suit);

      let shuffle = [...deck].sort(() => Math.random() - 0.5);

      let handOne = shuffle.slice(0, 26);
      let handTwo = shuffle.slice(26, 52);

      function getDeck() {
        document.getElementById("deck").innerHTML = deck;
        console.log("Deck of cards: ", deck);
        console.log("Shuffled deck... ", shuffle);
        console.log("Hand one: ", handOne);
        console.log("Hand two: ", handTwo);
      }

      let war = (handOne, handTwo) => {
        let playerOneScore = 0;
        let playerTwoScore = 0;

        let intro = "War never changes...";
        console.log("War never changes...");
        document.getElementById("intro").innerHTML = intro;

        const main = document.querySelector('main');
        let htmlString = "";

        handOne.forEach((card, index) => {
          const cardTwo = handTwo[index];

          if (card === cardTwo) {
            let response = "Tie, no points scored.";
            htmlString += `<p>${response}<p>`;
            // document.getElementById("response").innerHTML = response;
            console.log("Tie, no points scored.");
          } else if (card === 1) {
            let response = `Player One Played: ${card}. Player Two Played: ${cardTwo}. Aces wins this round. Point to Player One.`;
            htmlString += `<p>${response}<p>`;
            // document.getElementById("response").innerHTML = response;
            console.log(
              `Player One Played: ${card}. Player Two Played: ${cardTwo}. Aces wins this round. Point to Player One.`
            );
            playerOneScore++;
          } else if (cardTwo === 1) {
            let response = `Player One Played: ${card}. Player Two Played: ${cardTwo}. Aces wins this round. Point to Player Two.`;
            htmlString += `<p>${response}<p>`;
            // document.getElementById("response").innerHTML = response;
            console.log(
              `Player One Played: ${card}. Player Two Played: ${cardTwo}. Aces wins this round. Point to Player Two.`
            );
            playerTwoScore++;
          } else if (card > cardTwo && (card && cardTwo) != 1) {
            let response = `Player One Played: ${card}. Player Two Played: ${cardTwo}. Player One Wins this round.`;
            htmlString += `<p>${response}<p>`;
            // document.getElementById("response").innerHTML = response;
            console.log(
              `Player One Played: ${card}. Player Two Played: ${cardTwo}. Player One Wins this round.`
            );
            playerOneScore++;
          } else if (cardTwo > card && (card && cardTwo) != 1) {
            let response = `Player One Played: ${card}. Player Two Played: ${cardTwo}. Player Two Wins this round.`;
            htmlString += `<p>${response}<p>`;
            // document.getElementById("response").innerHTML = response;
            console.log(
              `Player One Played: ${card}. Player Two Played: ${cardTwo}. Player Two Wins this round.`
            );
            playerTwoScore++;
          }

          main.innerHTML = htmlString;
        });

        let pOneFinalScore = playerOneScore;
        document.getElementById("pOneFinalScore").innerHTML = pOneFinalScore;
        let pTwoFinalScore = playerTwoScore;
        document.getElementById("pTwoFinalScore").innerHTML = pTwoFinalScore;
        console.log("Final Scores: ", playerOneScore, playerTwoScore);

        if (playerOneScore > playerTwoScore) {
          console.log("Player One has won the war... but at what cost.");
          return "Player One has won the war... but at what cost.";
        } else if (playerOneScore < playerTwoScore) {
          console.log("Player Two has won the war... but at what cost.");
          return "Player Two has won the war... but at what cost.";
        } else {
          console.log("No one wins in war...");
          return "No one wins in war...";
        }
      };
    </script>

  </head>
  <body onload="getDeck()">
    <p id="deck"></p>
    <p id="intro"></p>
    <main></main>
    <p id="pOneFinalScore"></p>
    <p id="pTwoFinalScore"></p>
    <button onclick="war(handOne, handTwo)">Run Game</button>
    <button onclick="window.location.reload()">Refresh</button>

    <div class="alert alert-danger" role="alert">
It Works!
    </div>
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
  </body>
</html>

<!-- https://www.youtube.com/watch?v=zIh16K8BN7k
Kootkot: I was looking for a way to display each iteration of the game in browser.
^their tutorial on doing just that was incredibly helpful. -->
